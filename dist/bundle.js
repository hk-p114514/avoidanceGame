(()=>{"use strict";var e={715:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Character=void 0;var r=o(62),n=function(){function e(e,t,o,r,n){this.x=e,this.y=t,this.vectorX=o,this.vectorY=r,this.radius=n,this.death=!1,this.block=0}return e.prototype.update=function(){this.block=r.checkBlock(this,this.x,this.y,this.radius)},e}();t.Character=n},220:function(e,t,o){var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.Enemy=void 0;var a=o(221),s=o(687),c=o(519),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.update=function(){e.prototype.update.call(this),s.enemyMove1(this)},t.prototype.draw=function(){a.drawObject(this,c.consts.enemyColor)},t}(o(715).Character);t.Enemy=i},875:function(e,t,o){var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;var a=o(221),s=o(25),c=o(519),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.update=function(){e.prototype.update.call(this),s.playerControl(this)},t.prototype.draw=function(){a.drawObject(this,c.consts.playerColor)},t}(o(715).Character);t.Player=i},643:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.enemyLoop=void 0;var r=o(607),n=o(842),a=o(791),s=o(519);t.enemyLoop=function(){for(var e=s.enemy.length-1;e>=0;e--)s.enemy[e].update(),r.checkHit(s.enemy[e])&&s.enemy.splice(e,1);for(e=0;e<s.enemy.length;e++)s.enemy[e].draw();s.enemy.length<=0&&s.consts.stage<s.consts.maxStage?(s.consts.maxEnemyCount+=s.consts.maxEnemyCount/2,s.consts.stage++,a.makeEnemy(s.consts.maxEnemyCount)):s.consts.stage>=s.consts.maxStage&&(s.consts.gameClear=!0,n.gameClear())}},62:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkBlock=void 0;var r=o(519);t.checkBlock=function(e,t,o,n){var a=0;return n<o&&o<r.consts.canvasHeight/2?a=n<t&&t<r.consts.canvasWidth/2?1:2:r.consts.canvasHeight/2<o&&o<r.consts.canvasHeight&&(a=n<t&&t<r.consts.canvasWidth/2?3:4),a}},607:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkHit=void 0;var r=o(519);t.checkHit=function(e){var t=!1;if(e.block===r.player.block){var o=r.player.x-e.x,n=r.player.y-e.y,a=r.player.radius+e.radius;a*a>=o*o+n*n&&(t=!0)}return t}},221:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.drawObject=void 0;var r=o(519);t.drawObject=function(e,t){r.ctx&&(r.ctx.beginPath(),r.ctx.arc(e.x,e.y,e.radius,0,2*Math.PI),r.ctx.fillStyle=t,r.ctx.fill(),r.ctx.closePath())}},687:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.enemyMove1=void 0;var r=o(519),n=o(207);t.enemyMove1=function(e){var t=r.consts.enemyRadius;e.x>=e.radius&&e.x<=r.consts.canvasWidth||(n.rand(0,3)?n.rand(0,4)||(e.radius=n.rand(t,2*t)):e.vectorX+=n.rand(-5,5),e.vectorX*=-1),e.y>=e.radius&&e.y<=r.consts.canvasHeight||(n.rand(0,3)?n.rand(0,4)||(e.radius=n.rand(t,2*t)):e.vectorY+=n.rand(-5,5),e.vectorY*=-1),e.x+=e.vectorX,e.y+=e.vectorY}},842:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.gameClear=void 0,t.gameClear=function(){fetch("fetch").then((function(e){e.text()}))}},862:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.infoPrint=void 0;var r=o(519),n=o(256);t.infoPrint=function(){r.consts.gameTime++;var e=r.consts.gameTime/r.consts.fps,t=["STAGE : "+(r.consts.stage+1),"enemies : "+r.enemy.length,e.toFixed(2)+" s"];n.printTextCanvas(t,20)}},791:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeEnemy=void 0;var r=o(220),n=o(519),a=o(207);t.makeEnemy=function(e){for(var t=0;t<e;t++)n.enemy.push(new r.Enemy(a.rand(0,n.consts.canvasWidth),a.rand(0,n.consts.canvasHeight),a.rand(1,10),a.rand(1,10),n.consts.enemyRadius))}},25:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.playerControl=void 0;var r=o(519);t.playerControl=function(e){r.keysProperty.up&&e.y>e.radius&&(e.y-=e.vectorY),r.keysProperty.right&&e.x<r.consts.canvasWidth-e.radius&&(e.x+=e.vectorX),r.keysProperty.down&&e.y<r.consts.canvasHeight-e.radius&&(e.y+=e.vectorY),r.keysProperty.left&&e.x>e.radius&&(e.x-=e.vectorX)}},256:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.printTextCanvas=void 0;var r=o(519);t.printTextCanvas=function(e,t){var o=r.consts.canvasWidth-t,n=t;if(r.ctx){r.ctx.fillStyle="#FF45cc",r.ctx.textAlign="right",r.ctx.font="bold "+t+"px verdana";for(var a=0;a<e.length;a++)r.ctx.fillText(e[a],o,n),n+=t}}},207:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rand=void 0,t.rand=function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},137:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.gameLoop=void 0;var r=o(643),n=o(862),a=o(354),s=o(519);t.gameLoop=function(){s.ctx&&s.ctx.clearRect(0,0,s.consts.canvasWidth,s.consts.canvasHeight),s.consts.gameClear||(a.keyMove(),r.enemyLoop(),s.player.update(),s.player.draw(),n.infoPrint())}},123:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCanvas=void 0,t.getCanvas=function(){return document.getElementById("canvas")}},8:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getContext=void 0,t.getContext=function(e){var t=null;return e&&(t=e.getContext("2d")),t}},354:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.keyMove=void 0;var r=o(519);t.keyMove=function(){document.addEventListener("keydown",(function(e){var t=e.key;"ArrowUp"===t&&(r.keysProperty.up=!0),"ArrowRight"===t&&(r.keysProperty.right=!0),"ArrowDown"===t&&(r.keysProperty.down=!0),"ArrowLeft"===t&&(r.keysProperty.left=!0)})),document.addEventListener("keyup",(function(e){var t=e.key;"ArrowUp"===t&&(r.keysProperty.up=!1),"ArrowRight"===t&&(r.keysProperty.right=!1),"ArrowDown"===t&&(r.keysProperty.down=!1),"ArrowLeft"===t&&(r.keysProperty.left=!1)}))}},519:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.damageEffectColor=t.enemy=t.ctx=t.DEBUG=t.player=t.keysProperty=t.consts=void 0,t.DEBUG=!0;var r=o(123),n=o(8),a=o(137),s=o(875),c=o(791),i=r.getCanvas(),u=n.getContext(i);t.ctx=u;var y={fps:1e3/30,canvasWidth:500,canvasHeight:500,playerColor:"#E31212",maxEnemyCount:10,enemyColor:"#6638f0",enemyRadius:10,gameTime:0,stage:0,maxStage:3,gameClear:!1};t.consts=y,t.damageEffectColor="rgba(255, 0, 0, 0.4)",t.keysProperty={up:!1,right:!1,down:!1,left:!1};var d=new s.Player(y.canvasWidth/2,y.canvasHeight-10,10,10,10);t.player=d,t.enemy=[],c.makeEnemy(y.maxEnemyCount),i.width=y.canvasWidth,i.height=y.canvasHeight,setInterval(a.gameLoop,y.fps)}},t={};!function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}(519)})();